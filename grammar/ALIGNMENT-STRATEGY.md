# Grammar-Parser å¯¹é½ç­–ç•¥

> **ç›®æ ‡**: ç¡®ä¿ grammar/MASTER.md æè¿°çš„è¯­æ³•ä¸ parser.py çš„å®é™…å®ç°å®Œå…¨ä¸€è‡´
>
> **åˆ›å»ºæ—¥æœŸ**: 2025-11-25
> **çŠ¶æ€**: è§„åˆ’ä¸­

---

## ğŸ“Š å½“å‰çŠ¶æ€è¯„ä¼°

### æµ‹è¯•ç°çŠ¶

```
æµ‹è¯•æ–‡ä»¶:     54 ä¸ª
æµ‹è¯•ç”¨ä¾‹:     1,539 ä¸ª
é€šè¿‡:         1,506 ä¸ª (97.9%)
è·³è¿‡:         27 ä¸ª (1.8%)
å¤±è´¥:         2 ä¸ª (0.1%) - é›†æˆæµ‹è¯•ï¼Œç¯å¢ƒç›¸å…³
æ”¶é›†é”™è¯¯:     1 ä¸ª (spec_compliance)
```

### åŒæ­¥ç°çŠ¶

```bash
$ python grammar/tools/check_sync.py

[OK] Status: SYNCED
     49 ä¸ªç‰¹æ€§å·²æ–‡æ¡£åŒ–
     50 ä¸ª parser æ–¹æ³•
     0 ä¸ªæœªæ–‡æ¡£åŒ–æ–¹æ³•
```

**ç»“è®º**: åŸºç¡€åŒæ­¥çŠ¶æ€è‰¯å¥½ï¼Œä½†éœ€è¦æ›´æ·±å±‚æ¬¡çš„å¯¹é½éªŒè¯ã€‚

---

## ğŸ¯ å¯¹é½çš„ä¸‰ä¸ªå±‚æ¬¡

### Level 1: ç»“æ„å¯¹é½ âœ… (å·²å®Œæˆ)

**éªŒè¯é¡¹**:
- [x] æ–‡æ¡£ä¸­çš„ç‰¹æ€§æ˜¯å¦æœ‰å¯¹åº”çš„ parser æ–¹æ³•
- [x] parser æ–¹æ³•æ˜¯å¦éƒ½è¢«æ–‡æ¡£åŒ–
- [x] ç‰¹æ€§IDå’Œæ–¹æ³•åçš„æ˜ å°„å…³ç³»

**å·¥å…·**: `grammar/tools/check_sync.py`

**çŠ¶æ€**: âœ… SYNCED (49/49)

### Level 2: è¯­æ³•å¯¹é½ ğŸš§ (éœ€è¦è¿›è¡Œ)

**éªŒè¯é¡¹**:
- [ ] æ–‡æ¡£æè¿°çš„è¯­æ³•æ˜¯å¦ä¸å®é™…è§£æçš„è¯­æ³•ä¸€è‡´
- [ ] å‚æ•°ã€é€‰é¡¹ã€ä¿®é¥°ç¬¦æ˜¯å¦å®Œæ•´
- [ ] é”™è¯¯å¤„ç†æ˜¯å¦ç¬¦åˆé¢„æœŸ
- [ ] è¾¹ç•Œæƒ…å†µæ˜¯å¦è¢«æ­£ç¡®å¤„ç†

**å·¥å…·**: éœ€è¦å¼€å‘æˆ–å¢å¼º

**çŠ¶æ€**: å¾…éªŒè¯

### Level 3: è¡Œä¸ºå¯¹é½ ğŸš§ (éœ€è¦è¿›è¡Œ)

**éªŒè¯é¡¹**:
- [ ] æ‰§è¡Œè¡Œä¸ºæ˜¯å¦ç¬¦åˆæ–‡æ¡£æè¿°
- [ ] ä½œç”¨åŸŸè§„åˆ™æ˜¯å¦æ­£ç¡®
- [ ] ç±»å‹è½¬æ¢æ˜¯å¦ä¸€è‡´
- [ ] é”™è¯¯æ¶ˆæ¯æ˜¯å¦å‡†ç¡®

**å·¥å…·**: æµ‹è¯•ç”¨ä¾‹

**çŠ¶æ€**: éƒ¨åˆ†è¦†ç›–ï¼Œéœ€è¦ç³»ç»ŸåŒ–

---

## ğŸ“‹ æ¨èæ–¹æ¡ˆ: æµ‹è¯•é©±åŠ¨çš„å¯¹é½ï¼ˆTDAï¼‰

### ä¸ºä»€ä¹ˆé€‰æ‹© TDAï¼Ÿ

âœ… **ä¼˜ç‚¹**:
1. å»ºç«‹æŒç»­çš„è´¨é‡ä¿éšœ
2. å‘ç°æ–‡æ¡£å’Œå®ç°çš„çœŸå®å·®å¼‚
3. é˜²æ­¢æœªæ¥çš„ä¸ä¸€è‡´
4. æä¾›å¯æ‰§è¡Œçš„è¯­æ³•è§„èŒƒ
5. æ”¯æŒé‡æ„å’Œä¼˜åŒ–

âŒ **ä¸é€‰æ‹©å…¶ä»–æ–¹æ¡ˆçš„åŸå› **:
- **å®ç°é©±åŠ¨å¯¹é½**: å¯èƒ½å›ºåŒ–å®ç°ä¸­çš„é—®é¢˜
- **æ‰‹åŠ¨å®¡æŸ¥å¯¹é½**: å®¹æ˜“é—æ¼ï¼Œä¸å¯æŒç»­
- **ä»…ä¾èµ–ç°æœ‰æµ‹è¯•**: è¦†ç›–ä¸å¤Ÿç³»ç»ŸåŒ–

---

## ğŸš€ å®æ–½è®¡åˆ’

### é˜¶æ®µ 0: å‡†å¤‡å·¥ä½œï¼ˆ1å¤©ï¼‰

#### 0.1 åˆ›å»ºå¯¹é½æµ‹è¯•ç›®å½•

```bash
mkdir -p tests/grammar_alignment
```

**ç›®å½•ç»“æ„**:
```
tests/grammar_alignment/
â”œâ”€â”€ README.md                      # å¯¹é½æµ‹è¯•è¯´æ˜
â”œâ”€â”€ conftest.py                    # å…±äº« fixtures
â”œâ”€â”€ test_01_variables.py           # å˜é‡ä¸èµ‹å€¼ (3ä¸ªç‰¹æ€§)
â”œâ”€â”€ test_02_control_flow.py        # æ§åˆ¶æµ (4ä¸ªç‰¹æ€§)
â”œâ”€â”€ test_03_navigation.py          # å¯¼èˆª (3ä¸ªç‰¹æ€§)
â”œâ”€â”€ test_04_wait.py                # ç­‰å¾… (3ä¸ªç‰¹æ€§)
â”œâ”€â”€ test_05_selection.py           # é€‰æ‹© (2ä¸ªç‰¹æ€§)
â”œâ”€â”€ test_06_actions.py             # åŠ¨ä½œ (10ä¸ªç‰¹æ€§)
â”œâ”€â”€ test_07_assertions.py          # æ–­è¨€ (4ä¸ªç‰¹æ€§)
â”œâ”€â”€ test_08_service_call.py        # æœåŠ¡è°ƒç”¨ (1ä¸ªç‰¹æ€§)
â”œâ”€â”€ test_09_extraction.py          # æ•°æ®æå– (1ä¸ªç‰¹æ€§)
â”œâ”€â”€ test_10_utilities.py           # å·¥å…· (2ä¸ªç‰¹æ€§)
â”œâ”€â”€ test_expressions.py            # è¡¨è¾¾å¼ç³»ç»Ÿ (9çº§)
â”œâ”€â”€ test_data_types.py             # æ•°æ®ç±»å‹ (7ç§)
â”œâ”€â”€ test_system_variables.py       # ç³»ç»Ÿå˜é‡ (5ä¸ªå‘½åç©ºé—´)
â”œâ”€â”€ test_builtin_functions.py      # å†…ç½®å‡½æ•° (19ä¸ª)
â””â”€â”€ test_validation_rules.py       # VRè§„åˆ™ (4æ¡)
```

#### 0.2 åˆ›å»ºå¯¹é½æµ‹è¯•æ¨¡æ¿

**æ¨¡æ¿å†…å®¹** (æ¯ä¸ªæµ‹è¯•æ–‡ä»¶):
```python
"""
Grammar Alignment Test: [Category Name]

Tests alignment between grammar/MASTER.md definitions and parser.py implementation.

Features tested:
- [Feature ID] [Feature Name]
- ...

Reference: grammar/MASTER.md #[Section]
"""

import pytest
from registration_system.dsl.parser import Parser
from registration_system.dsl.lexer import Lexer


class TestFeature[ID]:
    """Test [Feature Name] alignment"""

    def test_basic_syntax(self):
        """Test basic syntax as documented in MASTER.md"""
        source = """
        # Example from MASTER.md
        """
        # Parse and verify

    def test_all_options(self):
        """Test all documented options and modifiers"""
        pass

    def test_edge_cases(self):
        """Test edge cases and boundary conditions"""
        pass

    def test_error_cases(self):
        """Test error handling and error messages"""
        pass

    def test_examples_from_docs(self):
        """Test all examples from grammar documentation"""
        pass
```

#### 0.3 ç¼–å†™å¯¹é½æµ‹è¯•æŒ‡å—

åˆ›å»º `tests/grammar_alignment/README.md`:
- å¯¹é½æµ‹è¯•çš„ç›®çš„
- å¦‚ä½•ç¼–å†™å¯¹é½æµ‹è¯•
- æµ‹è¯•å‘½åè§„èŒƒ
- å¦‚ä½•å¤„ç†å‘ç°çš„ä¸ä¸€è‡´

---

### é˜¶æ®µ 1: é«˜ä¼˜å…ˆçº§å¯¹é½ï¼ˆ3-5å¤©ï¼‰

æŒ‰ç…§ä½¿ç”¨é¢‘ç‡å’Œé‡è¦æ€§ï¼Œä¼˜å…ˆå¯¹é½ä»¥ä¸‹ç‰¹æ€§ï¼š

#### 1.1 å˜é‡ä¸èµ‹å€¼ (Priority: HIGH)

**ç‰¹æ€§**:
- 1.1 Let Declaration
- 1.2 Const Declaration
- 1.3 Assignment

**æµ‹è¯•é‡ç‚¹**:
- VR-VAR-003 ä½œç”¨åŸŸæ£€æŸ¥ï¼ˆv2.0 æ”¹ä¸ºåªæ£€æŸ¥å½“å‰ä½œç”¨åŸŸï¼‰
- VR-VAR-004 å¸¸é‡ä¸å¯ä¿®æ”¹
- å˜é‡åè§„åˆ™
- åˆå§‹å€¼è¡¨è¾¾å¼æ±‚å€¼

**é¢„æœŸå·¥ä½œé‡**: 1å¤©

#### 1.2 æ§åˆ¶æµ (Priority: HIGH)

**ç‰¹æ€§**:
- 2.1 Step Block
- 2.2 If-Else
- 2.3 When-Otherwise
- 2.4 For-Each Loop

**æµ‹è¯•é‡ç‚¹**:
- åµŒå¥—è§„åˆ™
- ä½œç”¨åŸŸç®¡ç†
- break/continueï¼ˆå¦‚æœæ”¯æŒï¼‰
- è¯Šæ–­çº§åˆ«ï¼ˆ6ç§ï¼‰

**é¢„æœŸå·¥ä½œé‡**: 1.5å¤©

#### 1.3 è¡¨è¾¾å¼ç³»ç»Ÿ (Priority: HIGH)

**ç‰¹æ€§**: 9çº§ä¼˜å…ˆçº§

**æµ‹è¯•é‡ç‚¹**:
- è¿ç®—ç¬¦ä¼˜å…ˆçº§
- ç»“åˆæ€§ï¼ˆå·¦ç»“åˆ vs å³ç»“åˆï¼‰
- çŸ­è·¯æ±‚å€¼
- ç±»å‹è½¬æ¢è§„åˆ™

**é¢„æœŸå·¥ä½œé‡**: 1.5å¤©

#### 1.4 æ•°æ®ç±»å‹ (Priority: HIGH)

**ç‰¹æ€§**: 7ç§æ•°æ®ç±»å‹

**æµ‹è¯•é‡ç‚¹**:
- å­—é¢é‡è¯­æ³•
- å­—ç¬¦ä¸²æ’å€¼ï¼ˆv2.0æ–°å¢ï¼‰
- æ•°ç»„å’Œå¯¹è±¡æ“ä½œ
- null å’Œ boolean

**é¢„æœŸå·¥ä½œé‡**: 1å¤©

---

### é˜¶æ®µ 2: ä¸­ä¼˜å…ˆçº§å¯¹é½ï¼ˆ3-5å¤©ï¼‰

#### 2.1 åŠ¨ä½œç±» (6.1-6.10)

**æµ‹è¯•é‡ç‚¹**:
- é€‰æ‹©å™¨è¯­æ³•
- ä¿®é¥°ç¬¦ï¼ˆslowly, fastç­‰ï¼‰
- å¯é€‰å‚æ•°
- ç­‰å¾…è¡Œä¸º

**é¢„æœŸå·¥ä½œé‡**: 2å¤©

#### 2.2 ç­‰å¾…ä¸æ–­è¨€ (4.x, 7.x)

**æµ‹è¯•é‡ç‚¹**:
- timeout å‚æ•°
- çŠ¶æ€æ£€æŸ¥ï¼ˆ4ç§å…ƒç´ çŠ¶æ€ï¼Œ3ç§é¡µé¢çŠ¶æ€ï¼‰
- æ–­è¨€æ¡ä»¶

**é¢„æœŸå·¥ä½œé‡**: 1.5å¤©

#### 2.3 ç³»ç»Ÿå˜é‡å’Œå†…ç½®å‡½æ•°

**æµ‹è¯•é‡ç‚¹**:
- 5ä¸ªç³»ç»Ÿå˜é‡å‘½åç©ºé—´
- 19ä¸ªå†…ç½®å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼
- å¯¹è±¡æ–¹æ³•ï¼ˆå­—ç¬¦ä¸²ã€æ•°ç»„ï¼‰

**é¢„æœŸå·¥ä½œé‡**: 1.5å¤©

---

### é˜¶æ®µ 3: ä½ä¼˜å…ˆçº§å¯¹é½ï¼ˆ2-3å¤©ï¼‰

#### 3.1 å…¶ä»–ç‰¹æ€§

- å¯¼èˆªï¼ˆ3.xï¼‰
- é€‰æ‹©ï¼ˆ5.xï¼‰
- æœåŠ¡è°ƒç”¨ï¼ˆ8.xï¼‰
- æ•°æ®æå–ï¼ˆ9.xï¼‰
- å·¥å…·ï¼ˆ10.xï¼‰

**é¢„æœŸå·¥ä½œé‡**: 2-3å¤©

---

### é˜¶æ®µ 4: å¢å¼ºå·¥å…·ï¼ˆ2å¤©ï¼‰

#### 4.1 å¢å¼º check_sync.py

æ·»åŠ æ–°çš„æ£€æŸ¥é¡¹ï¼š

```python
def check_syntax_details(feature: Feature, parser_method: str) -> List[Issue]:
    """æ£€æŸ¥è¯­æ³•ç»†èŠ‚æ˜¯å¦åŒ¹é…"""
    issues = []

    # æ£€æŸ¥1: å‚æ•°æ•°é‡
    # æ£€æŸ¥2: å¯é€‰å‚æ•°
    # æ£€æŸ¥3: ä¿®é¥°ç¬¦
    # æ£€æŸ¥4: é”™è¯¯å¤„ç†

    return issues
```

#### 4.2 åˆ›å»ºæ–°å·¥å…· check_test_coverage.py

```python
"""
Test Coverage Checker for Grammar Features

æ£€æŸ¥æ¯ä¸ªè¯­æ³•ç‰¹æ€§æ˜¯å¦æœ‰å¯¹åº”çš„å¯¹é½æµ‹è¯•ã€‚
"""

def check_test_coverage(grammar_master: Path, test_dir: Path) -> Report:
    """
    å¯¹æ¯” MASTER.md çš„ç‰¹æ€§å’Œ tests/grammar_alignment/ çš„æµ‹è¯•

    æŠ¥å‘Š:
    - å·²è¦†ç›–çš„ç‰¹æ€§
    - æœªè¦†ç›–çš„ç‰¹æ€§
    - æµ‹è¯•å®Œæ•´æ€§è¯„åˆ†
    """
    pass
```

#### 4.3 åˆ›å»ºæµ‹è¯•ç”Ÿæˆå™¨

```python
"""
Alignment Test Generator

æ ¹æ® MASTER.md è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•éª¨æ¶ã€‚
"""

def generate_test_skeleton(feature: Feature) -> str:
    """ç”Ÿæˆæµ‹è¯•ä»£ç éª¨æ¶"""
    template = """
    class Test{feature_id}:
        '''Test {feature_name} alignment'''

        def test_basic_syntax(self):
            '''Basic syntax: {syntax}'''
            source = '''
            {example}
            '''
            # TODO: Implement test

        def test_all_options(self):
            '''Test all options and modifiers'''
            # TODO: Implement test
    """
    return template.format(
        feature_id=feature.id.replace('.', '_'),
        feature_name=feature.name,
        syntax=feature.syntax,
        example=generate_example(feature)
    )
```

---

## ğŸ“ å¯¹é½æµ‹è¯•ç¼–å†™è§„èŒƒ

### æµ‹è¯•å‘½åè§„èŒƒ

```python
# ç±»å: Test + FeatureID (ç”¨ä¸‹åˆ’çº¿)
class Test1_1:  # Feature 1.1
class Test6_10: # Feature 6.10

# æ–¹æ³•å: test_ + å…·ä½“åœºæ™¯
def test_basic_syntax():           # åŸºæœ¬è¯­æ³•
def test_all_options():            # æ‰€æœ‰é€‰é¡¹
def test_with_modifiers():         # å¸¦ä¿®é¥°ç¬¦
def test_edge_cases():             # è¾¹ç•Œæƒ…å†µ
def test_error_invalid_syntax():   # é”™è¯¯ï¼šæ— æ•ˆè¯­æ³•
def test_error_missing_param():    # é”™è¯¯ï¼šç¼ºå°‘å‚æ•°
def test_examples_from_docs():     # æ–‡æ¡£ä¸­çš„ç¤ºä¾‹
```

### æµ‹è¯•ç»“æ„

æ¯ä¸ªç‰¹æ€§è‡³å°‘åŒ…å«ï¼š

1. **åŸºæœ¬è¯­æ³•æµ‹è¯•** - éªŒè¯æœ€ç®€å•çš„ç”¨æ³•
2. **å®Œæ•´é€‰é¡¹æµ‹è¯•** - éªŒè¯æ‰€æœ‰å‚æ•°å’Œé€‰é¡¹
3. **è¾¹ç•Œæƒ…å†µæµ‹è¯•** - ç©ºå€¼ã€æå€¼ã€ç‰¹æ®Šå­—ç¬¦
4. **é”™è¯¯æƒ…å†µæµ‹è¯•** - è¯­æ³•é”™è¯¯ã€è¯­ä¹‰é”™è¯¯
5. **æ–‡æ¡£ç¤ºä¾‹æµ‹è¯•** - grammar/ ç›®å½•ä¸­çš„æ‰€æœ‰ç¤ºä¾‹

### æ–­è¨€å†…å®¹

```python
def test_let_declaration_basic():
    """Test basic let declaration"""
    source = 'let x = 10'

    lexer = Lexer(source)
    tokens = lexer.tokenize()

    parser = Parser(tokens)
    ast = parser.parse()

    # 1. éªŒè¯ AST ç»“æ„
    assert len(ast) == 1
    assert isinstance(ast[0], LetStatement)

    # 2. éªŒè¯å˜é‡å
    assert ast[0].variable == 'x'

    # 3. éªŒè¯åˆå§‹å€¼
    assert isinstance(ast[0].value, Number)
    assert ast[0].value.value == 10

    # 4. éªŒè¯ä½œç”¨åŸŸæ³¨å†Œ
    # ï¼ˆå¦‚æœparseræœ‰ç¬¦å·è¡¨ï¼‰

    # 5. éªŒè¯è¡Œå·ä¿¡æ¯
    assert ast[0].line == 1
```

---

## ğŸ” å‘ç°ä¸ä¸€è‡´æ—¶çš„å¤„ç†æµç¨‹

### æƒ…å†µ1: æ–‡æ¡£æè¿°æœ‰è¯¯

**ç¤ºä¾‹**: æ–‡æ¡£è¯´æ”¯æŒæŸä¸ªé€‰é¡¹ï¼Œä½†å®é™…ä¸æ”¯æŒ

**å¤„ç†**:
1. åœ¨æµ‹è¯•ä¸­æ ‡è®°ä¸º `@pytest.mark.xfail(reason="æ–‡æ¡£é”™è¯¯ï¼Œå¾…ä¿®å¤")`
2. åˆ›å»º Issue è®°å½•é—®é¢˜
3. æ›´æ–° grammar/MASTER.md æˆ–å®ç°ç¼ºå¤±åŠŸèƒ½
4. ä¿®å¤åç§»é™¤ xfail æ ‡è®°

### æƒ…å†µ2: å®ç°æœ‰ bug

**ç¤ºä¾‹**: è¾¹ç•Œæƒ…å†µå¤„ç†é”™è¯¯

**å¤„ç†**:
1. ç¼–å†™å¤±è´¥çš„æµ‹è¯•ï¼ˆTDDï¼‰
2. ä¿®å¤ parser.py çš„ bug
3. éªŒè¯æµ‹è¯•é€šè¿‡
4. åœ¨ grammar/CHANGELOG.md è®°å½•ä¿®å¤

### æƒ…å†µ3: è¡Œä¸ºæœªå®šä¹‰

**ç¤ºä¾‹**: æ–‡æ¡£æ²¡æœ‰è¯´æ˜æŸä¸ªè¾¹ç•Œæƒ…å†µ

**å¤„ç†**:
1. è®°å½•å½“å‰å®ç°è¡Œä¸º
2. è®¨è®ºæ˜¯å¦åˆç†
3. æ›´æ–° grammar/MASTER.md æ˜ç¡®å®šä¹‰
4. ç¼–å†™æµ‹è¯•å›ºåŒ–è¡Œä¸º

### æƒ…å†µ4: ç‰ˆæœ¬å·®å¼‚

**ç¤ºä¾‹**: v1.0 å’Œ v2.0 è¡Œä¸ºä¸åŒ

**å¤„ç†**:
1. åˆ†åˆ«ç¼–å†™æµ‹è¯•
2. æ ‡è®°ç‰ˆæœ¬ä¿¡æ¯
3. åœ¨ CHANGELOG.md ä¸­æ˜ç¡®è®°å½•
4. è€ƒè™‘å…¼å®¹æ€§æµ‹è¯•

---

## ğŸ“Š è¿›åº¦è·Ÿè¸ª

### å¯¹é½è¿›åº¦çŸ©é˜µ

| ç±»åˆ« | ç‰¹æ€§æ•° | æµ‹è¯•æ–‡ä»¶ | åŸºæœ¬è¯­æ³• | å®Œæ•´é€‰é¡¹ | è¾¹ç•Œæƒ…å†µ | é”™è¯¯å¤„ç† | å®Œæˆåº¦ |
|------|--------|---------|---------|---------|---------|---------|--------|
| 1. å˜é‡ä¸èµ‹å€¼ | 3 | âŒ | 0/3 | 0/3 | 0/3 | 0/3 | 0% |
| 2. æ§åˆ¶æµ | 4 | âŒ | 0/4 | 0/4 | 0/4 | 0/4 | 0% |
| 3. å¯¼èˆª | 3 | âŒ | 0/3 | 0/3 | 0/3 | 0/3 | 0% |
| 4. ç­‰å¾… | 3 | âŒ | 0/3 | 0/3 | 0/3 | 0/3 | 0% |
| 5. é€‰æ‹© | 2 | âŒ | 0/2 | 0/2 | 0/2 | 0/2 | 0% |
| 6. åŠ¨ä½œ | 10 | âŒ | 0/10 | 0/10 | 0/10 | 0/10 | 0% |
| 7. æ–­è¨€ | 4 | âŒ | 0/4 | 0/4 | 0/4 | 0/4 | 0% |
| 8. æœåŠ¡è°ƒç”¨ | 1 | âŒ | 0/1 | 0/1 | 0/1 | 0/1 | 0% |
| 9. æ•°æ®æå– | 1 | âŒ | 0/1 | 0/1 | 0/1 | 0/1 | 0% |
| 10. å·¥å…· | 2 | âŒ | 0/2 | 0/2 | 0/2 | 0/2 | 0% |
| è¡¨è¾¾å¼ç³»ç»Ÿ | 9 | âŒ | 0/9 | 0/9 | 0/9 | 0/9 | 0% |
| æ•°æ®ç±»å‹ | 7 | âŒ | 0/7 | 0/7 | 0/7 | 0/7 | 0% |
| **æ€»è®¡** | **49** | **0/15** | **0/196** | **0/196** | **0/196** | **0/196** | **0%** |

**æ›´æ–°é¢‘ç‡**: æ¯å®Œæˆä¸€ä¸ªæµ‹è¯•æ–‡ä»¶åæ›´æ–°

---

## ğŸ¯ æˆåŠŸæŒ‡æ ‡

### çŸ­æœŸç›®æ ‡ï¼ˆ2å‘¨ï¼‰

- [ ] å®Œæˆé˜¶æ®µ0å’Œé˜¶æ®µ1ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰
- [ ] å¯¹é½æµ‹è¯•è¦†ç›–ç‡ â‰¥ 30%
- [ ] å‘ç°å¹¶è®°å½• â‰¥ 10 ä¸ªä¸ä¸€è‡´é—®é¢˜
- [ ] ä¿®å¤ â‰¥ 5 ä¸ªå…³é”®é—®é¢˜

### ä¸­æœŸç›®æ ‡ï¼ˆ1ä¸ªæœˆï¼‰

- [ ] å®Œæˆé˜¶æ®µ2ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰
- [ ] å¯¹é½æµ‹è¯•è¦†ç›–ç‡ â‰¥ 70%
- [ ] æ‰€æœ‰é«˜ä¼˜å…ˆçº§ä¸ä¸€è‡´å·²ä¿®å¤
- [ ] å¢å¼ºå·¥å…·å·²å®ç°

### é•¿æœŸç›®æ ‡ï¼ˆ2ä¸ªæœˆï¼‰

- [ ] å®Œæˆæ‰€æœ‰é˜¶æ®µ
- [ ] å¯¹é½æµ‹è¯•è¦†ç›–ç‡ = 100%
- [ ] æ‰€æœ‰ä¸ä¸€è‡´å·²è§£å†³æˆ–æ–‡æ¡£åŒ–
- [ ] é›†æˆåˆ° CI/CD æµç¨‹

---

## ğŸ”„ æŒç»­å¯¹é½æœºåˆ¶

### å¼€å‘æµç¨‹é›†æˆ

1. **æ·»åŠ æ–°è¯­æ³•ç‰¹æ€§**:
   ```
   1. æ›´æ–° grammar/MASTER.md
   2. å®ç° parser æ–¹æ³•
   3. ç¼–å†™å¯¹é½æµ‹è¯• â† å¼ºåˆ¶è¦æ±‚
   4. è¿è¡Œ check_sync.py
   5. æäº¤ PR
   ```

2. **ä¿®æ”¹ç°æœ‰è¯­æ³•**:
   ```
   1. æ›´æ–° grammar/MASTER.md
   2. æ›´æ–° parser å®ç°
   3. æ›´æ–°å¯¹é½æµ‹è¯• â† å¼ºåˆ¶è¦æ±‚
   4. è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
   5. æäº¤ PR
   ```

### CI/CD æ£€æŸ¥

```yaml
# .github/workflows/grammar-alignment.yml
name: Grammar Alignment Check

on: [push, pull_request]

jobs:
  alignment:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2

      - name: Check Grammar-Parser Sync
        run: python grammar/tools/check_sync.py

      - name: Run Alignment Tests
        run: pytest tests/grammar_alignment/ -v

      - name: Check Test Coverage
        run: python grammar/tools/check_test_coverage.py

      - name: Generate Alignment Report
        run: python grammar/tools/generate_alignment_report.py
```

### å®šæœŸå®¡æŸ¥

- **æ¯å‘¨**: æŸ¥çœ‹å¯¹é½æµ‹è¯•å¤±è´¥æƒ…å†µ
- **æ¯æœˆ**: å®¡æŸ¥å¯¹é½å®Œæˆåº¦
- **æ¯å­£åº¦**: å…¨é¢å®¡æŸ¥è¯­æ³•-å®ç°ä¸€è‡´æ€§

---

## ğŸ“– å‚è€ƒèµ„æ–™

### ç›¸å…³æ–‡æ¡£

- [grammar/MASTER.md](./MASTER.md) - è¯­æ³•ä¸»æ§æ–‡æ¡£
- [grammar/GOVERNANCE.md](./GOVERNANCE.md) - å˜æ›´æµç¨‹
- [grammar/tools/check_sync.py](./tools/check_sync.py) - ç°æœ‰åŒæ­¥æ£€æŸ¥å·¥å…·

### æµ‹è¯•èµ„æº

- ç°æœ‰æµ‹è¯•: `tests/` ç›®å½•ï¼ˆ54ä¸ªæ–‡ä»¶ï¼Œ1506ä¸ªæµ‹è¯•ï¼‰
- æµ‹è¯•æ¡†æ¶: pytest
- è¦†ç›–ç‡å·¥å…·: pytest-cov

### å‚è€ƒé¡¹ç›®

ç±»ä¼¼çš„è¯­æ³•-å®ç°å¯¹é½å®è·µï¼š
- Python Language Specification
- JavaScript Test262
- Rust RFCs and Tests

---

## â“ FAQ

**Q: ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨ç°æœ‰çš„1506ä¸ªæµ‹è¯•ï¼Ÿ**
A: ç°æœ‰æµ‹è¯•åˆ†æ•£åœ¨å„ä¸ªæ¨¡å—ï¼Œä¸æ˜¯ç³»ç»ŸåŒ–åœ°é’ˆå¯¹ grammar/MASTER.md è¿›è¡ŒéªŒè¯ã€‚å¯¹é½æµ‹è¯•éœ€è¦ï¼š
- æ˜ç¡®å¯¹åº”åˆ° MASTER.md çš„ç‰¹æ€§ID
- ç³»ç»ŸåŒ–è¦†ç›–æ‰€æœ‰è¯­æ³•ç»†èŠ‚
- ä¸“æ³¨äºè¯­æ³•ä¸€è‡´æ€§éªŒè¯

**Q: è¿™ä¼šä¸ä¼šé‡å¤ç°æœ‰æµ‹è¯•ï¼Ÿ**
A: ä¼šæœ‰éƒ¨åˆ†é‡å¤ï¼Œä½†ï¼š
- å¯¹é½æµ‹è¯•æ›´ç³»ç»Ÿã€æ›´å®Œæ•´
- æ˜ç¡®çš„å¯è¿½æº¯æ€§ï¼ˆç‰¹æ€§ID â†’ æµ‹è¯•ï¼‰
- å¯ä»¥åˆå¹¶æˆ–å¼•ç”¨ç°æœ‰æµ‹è¯•
- é‡å¤çš„æˆæœ¬è¿œä½äºä¸ä¸€è‡´çš„é£é™©

**Q: å‘ç°å¤§é‡ä¸ä¸€è‡´æ€ä¹ˆåŠï¼Ÿ**
A: è¿™æ­£æ˜¯å¯¹é½çš„ç›®çš„ï¼ä¼˜å…ˆçº§ï¼š
1. é«˜ä¼˜å…ˆçº§ + å½±å“å¤§ â†’ ç«‹å³ä¿®å¤
2. é«˜ä¼˜å…ˆçº§ + å½±å“å° â†’ è®¡åˆ’ä¿®å¤
3. ä½ä¼˜å…ˆçº§ â†’ æ–‡æ¡£åŒ–ï¼Œæœªæ¥ä¿®å¤

**Q: è°æ¥åšè¿™ä¸ªå·¥ä½œï¼Ÿ**
A: å»ºè®®ï¼š
- æ ¸å¿ƒå¼€å‘è€…ï¼šé«˜ä¼˜å…ˆçº§éƒ¨åˆ†
- è´¡çŒ®è€…ï¼šä¸­ä½ä¼˜å…ˆçº§éƒ¨åˆ†
- å¯ä»¥åˆ†é…ä¸åŒçš„ç‰¹æ€§ç±»åˆ«ç»™ä¸åŒçš„äºº

---

**åˆ›å»ºæ—¥æœŸ**: 2025-11-25
**ç»´æŠ¤è€…**: Registration System Core Team
**çŠ¶æ€**: è§„åˆ’ä¸­ï¼Œç­‰å¾…å¼€å§‹å®æ–½

**ä¸‹ä¸€æ­¥**: åˆ›å»º `tests/grammar_alignment/` ç›®å½•å¹¶å¼€å§‹é˜¶æ®µ0
