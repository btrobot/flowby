# Parser é˜¶æ®µè¯­ä¹‰æ£€æŸ¥ï¼ˆVR è§„åˆ™ï¼‰æ·±åº¦è§£æ

> **ç›®æ ‡**: ç”¨é€šä¿—è¯­è¨€è§£é‡Š Flowby æœ€æ ¸å¿ƒçš„æŠ€æœ¯åˆ›æ–°ç‚¹

---

## ç›®å½•

1. [åŸºç¡€æ¦‚å¿µï¼šç¼–è¯‘å™¨çš„ä¸‰ä¸ªé˜¶æ®µ](#1-åŸºç¡€æ¦‚å¿µç¼–è¯‘å™¨çš„ä¸‰ä¸ªé˜¶æ®µ)
2. [è¯­æ³•æ£€æŸ¥ vs è¯­ä¹‰æ£€æŸ¥](#2-è¯­æ³•æ£€æŸ¥-vs-è¯­ä¹‰æ£€æŸ¥)
3. [ä¼ ç»Ÿåšæ³• vs Flowby åˆ›æ–°](#3-ä¼ ç»Ÿåšæ³•-vs-flowby-åˆ›æ–°)
4. [VR è§„åˆ™è¯¦è§£](#4-vr-è§„åˆ™è¯¦è§£)
5. [æŠ€æœ¯å®ç°åŸç†](#5-æŠ€æœ¯å®ç°åŸç†)
6. [å®é™…ä»·å€¼åˆ†æ](#6-å®é™…ä»·å€¼åˆ†æ)
7. [ä¸å…¶ä»–è¯­è¨€å¯¹æ¯”](#7-ä¸å…¶ä»–è¯­è¨€å¯¹æ¯”)

---

## 1. åŸºç¡€æ¦‚å¿µï¼šç¼–è¯‘å™¨çš„ä¸‰ä¸ªé˜¶æ®µ

### 1.1 ç¼–è¯‘å™¨å·¥ä½œæµç¨‹

æƒ³è±¡ä½ åœ¨å†™ä¸€å°ä¿¡ï¼Œè®¡ç®—æœºè¯»æ‡‚è¿™å°ä¿¡éœ€è¦ä¸‰ä¸ªæ­¥éª¤ï¼š

```
ä½ çš„ä»£ç  (æºæ–‡ä»¶)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ 1: Lexer (è¯æ³•åˆ†æ)            â”‚
â”‚ ä½œç”¨: æŠŠä»£ç åˆ‡æˆ"å•è¯"               â”‚
â”‚ è¾“å…¥: "let x = 10"                  â”‚
â”‚ è¾“å‡º: [LET, IDENTIFIER, ASSIGN, 10] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ 2: Parser (è¯­æ³•åˆ†æ)           â”‚
â”‚ ä½œç”¨: æ£€æŸ¥"è¯­æ³•"æ˜¯å¦æ­£ç¡®             â”‚
â”‚ è¾“å…¥: [LET, IDENTIFIER, ASSIGN, 10] â”‚
â”‚ è¾“å‡º: AST (æŠ½è±¡è¯­æ³•æ ‘)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ 3: Interpreter (è§£é‡Šæ‰§è¡Œ)      â”‚
â”‚ ä½œç”¨: çœŸæ­£æ‰§è¡Œä»£ç                    â”‚
â”‚ è¾“å…¥: AST                           â”‚
â”‚ è¾“å‡º: æ‰§è¡Œç»“æœ                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ç”¨ä¾‹å­è¯´æ˜

**æºä»£ç **:
```flow
let x = 10
log x
```

**Lexer é˜¶æ®µ** (åˆ‡è¯):
```
"let x = 10" â†’ [
    Token(LET, "let"),
    Token(IDENTIFIER, "x"),
    Token(ASSIGN, "="),
    Token(NUMBER, "10")
]
```

**Parser é˜¶æ®µ** (æ„å»ºè¯­æ³•æ ‘):
```
[LET, IDENTIFIER, ASSIGN, NUMBER] â†’
    LetStatement(
        name="x",
        value=NumberLiteral(10)
    )
```

**Interpreter é˜¶æ®µ** (æ‰§è¡Œ):
```
LetStatement(name="x", value=10) â†’
    context.variables["x"] = 10
```

---

## 2. è¯­æ³•æ£€æŸ¥ vs è¯­ä¹‰æ£€æŸ¥

### 2.1 ä»€ä¹ˆæ˜¯"è¯­æ³•æ£€æŸ¥"ï¼Ÿ

**è¯­æ³•æ£€æŸ¥** = æ£€æŸ¥ä»£ç çš„"æ ¼å¼"æ˜¯å¦æ­£ç¡®

ç±»æ¯”ï¼šæ£€æŸ¥è‹±è¯­å¥å­çš„è¯­æ³•
- âœ… "I am happy" (ä¸»è¯­ + è°“è¯­ + å½¢å®¹è¯ï¼Œè¯­æ³•æ­£ç¡®)
- âŒ "I happy am" (è¯­æ³•é”™è¯¯ï¼Œé¡ºåºä¸å¯¹)

**ä»£ç ç¤ºä¾‹**:
```flow
# âœ… è¯­æ³•æ­£ç¡®
let x = 10

# âŒ è¯­æ³•é”™è¯¯ï¼ˆç¼ºå°‘ =ï¼‰
let x 10
```

### 2.2 ä»€ä¹ˆæ˜¯"è¯­ä¹‰æ£€æŸ¥"ï¼Ÿ

**è¯­ä¹‰æ£€æŸ¥** = æ£€æŸ¥ä»£ç çš„"æ„ä¹‰"æ˜¯å¦æ­£ç¡®

ç±»æ¯”ï¼šæ£€æŸ¥è‹±è¯­å¥å­çš„é€»è¾‘
- âœ… "The cat drinks water" (è¯­æ³•å’Œè¯­ä¹‰éƒ½æ­£ç¡®)
- âš ï¸ "The cat drinks ideas" (è¯­æ³•æ­£ç¡®ï¼Œä½†è¯­ä¹‰è’è°¬)

**ä»£ç ç¤ºä¾‹**:
```flow
# âœ… è¯­æ³•æ­£ç¡®ï¼Œè¯­ä¹‰ä¹Ÿæ­£ç¡®
let x = 10
log x

# âš ï¸ è¯­æ³•æ­£ç¡®ï¼Œä½†è¯­ä¹‰é”™è¯¯ï¼ˆx æœªå®šä¹‰ï¼‰
log x  # å“ªä¸ª xï¼Ÿæˆ‘ä¸çŸ¥é“æœ‰è¿™ä¸ªå˜é‡ï¼
let x = 10
```

### 2.3 å¯¹æ¯”è¡¨æ ¼

| æ£€æŸ¥ç±»å‹ | æ£€æŸ¥å†…å®¹ | ä¾‹å­ | å‘ç°æ—¶é—´ |
|---------|---------|------|---------|
| **è¯­æ³•æ£€æŸ¥** | ä»£ç æ ¼å¼æ˜¯å¦æ­£ç¡® | `let x 10` âŒ | Parser é˜¶æ®µ |
| **è¯­ä¹‰æ£€æŸ¥** | ä»£ç é€»è¾‘æ˜¯å¦æ­£ç¡® | ä½¿ç”¨æœªå®šä¹‰çš„å˜é‡ âŒ | ï¼Ÿï¼Ÿï¼Ÿ |

**å…³é”®é—®é¢˜**: è¯­ä¹‰æ£€æŸ¥åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™åšï¼Ÿ

---

## 3. ä¼ ç»Ÿåšæ³• vs Flowby åˆ›æ–°

### 3.1 ä¼ ç»Ÿåšæ³•ï¼šè¿è¡Œæ—¶æ£€æŸ¥

**å¤§å¤šæ•°åŠ¨æ€è¯­è¨€ï¼ˆPython, JavaScriptï¼‰**:

```python
# Python ä»£ç 
print(x)  # è¯­æ³•æ­£ç¡®
x = 10    # å˜é‡å®šä¹‰

# è¿è¡Œæ—¶æ‰å‘ç°é”™è¯¯ï¼š
# NameError: name 'x' is not defined
```

**æµç¨‹**:
```
æºç 
  â†“
Lexer: âœ… è¯æ³•æ­£ç¡®
  â†“
Parser: âœ… è¯­æ³•æ­£ç¡®ï¼ˆprint(x) ç¬¦åˆè¯­æ³•ï¼‰
  â†“
Interpreter: âŒ è¿è¡Œæ—¶é”™è¯¯ï¼x æœªå®šä¹‰
             â†‘ è¿™æ—¶æ‰å‘ç°é”™è¯¯
```

**é—®é¢˜**:
- âŒ è¿è¡Œæ—¶æ‰å‘ç°é”™è¯¯
- âŒ å¯èƒ½éœ€è¦è¿è¡Œå¾ˆä¹…æ‰è§¦å‘é”™è¯¯è¡Œ
- âŒ æµªè´¹å¼€å‘æ—¶é—´

### 3.2 Flowby åˆ›æ–°ï¼šç¼–è¯‘æ—¶æ£€æŸ¥

**Flowby çš„ VR è§„åˆ™**:

```flow
log x  # âŒ ç«‹å³æŠ¥é”™ï¼ä¸ç”¨è¿è¡Œ
let x = 10
```

**æµç¨‹**:
```
æºç : log x
  â†“
Lexer: âœ… è¯æ³•æ­£ç¡®
  â†“
Parser: âŒ è¯­ä¹‰é”™è¯¯ï¼x æœªå®šä¹‰ï¼ˆVR-001ï¼‰
        â†‘ Parser é˜¶æ®µå°±å‘ç°é”™è¯¯
  â†“
(ä¸ä¼šæ‰§è¡Œï¼Œå·²ç»æŠ¥é”™)
```

**ä¼˜åŠ¿**:
- âœ… ç¼–è¯‘æ—¶å‘ç°é”™è¯¯ï¼ˆä¸ç”¨è¿è¡Œï¼‰
- âœ… ç«‹å³åé¦ˆï¼Œç§’çº§å‘ç°
- âœ… èŠ‚çœå¼€å‘æ—¶é—´

### 3.3 å¯¹æ¯”ï¼šPython vs Flowby

**åœºæ™¯**: ä¸€ä¸ª 100 è¡Œçš„è„šæœ¬ï¼Œç¬¬ 50 è¡Œæœ‰å˜é‡æœªå®šä¹‰é”™è¯¯

#### Python (è¿è¡Œæ—¶æ£€æŸ¥):

```python
# script.py (100 è¡Œ)
def step1():
    # ... 10 è¡Œä»£ç 
    pass

def step2():
    # ... 10 è¡Œä»£ç 
    pass

def step3():
    print(username)  # â† ç¬¬ 50 è¡Œï¼Œå˜é‡æœªå®šä¹‰
    username = "Alice"

# ... 50 è¡Œä»£ç 

# è¿è¡Œ
step1()  # âœ… è¿è¡Œ 5 ç§’
step2()  # âœ… è¿è¡Œ 5 ç§’
step3()  # âŒ è¿è¡Œ 10 ç§’åå´©æºƒï¼
```

**æ—¶é—´æˆæœ¬**: è¿è¡Œ 20 ç§’åæ‰å‘ç°é”™è¯¯

#### Flowby (ç¼–è¯‘æ—¶æ£€æŸ¥):

```flow
# script.flow (100 è¡Œ)
step "æ­¥éª¤ 1":
    # ... 10 è¡Œä»£ç 

step "æ­¥éª¤ 2":
    # ... 10 è¡Œä»£ç 

step "æ­¥éª¤ 3":
    log username  # â† ç¬¬ 50 è¡Œï¼Œå˜é‡æœªå®šä¹‰
    let username = "Alice"

# ... 50 è¡Œä»£ç 
```

**æ—¶é—´æˆæœ¬**: 0 ç§’ï¼Parser é˜¶æ®µå°±æŠ¥é”™

```
[è¯­æ³•é”™è¯¯] ç¬¬ 50 è¡Œ: æœªå®šä¹‰çš„å˜é‡ 'username'ï¼ˆVR-001 è¿è§„ï¼‰

 48 | step "æ­¥éª¤ 3":
 49 |     # å¼€å§‹å¤„ç†
>50 |     log username
          ^^^^^^^^
 51 |     let username = "Alice"

ğŸ’¡ æç¤º: è¯·ä½¿ç”¨ 'let username = ...' å…ˆå£°æ˜å˜é‡
```

**æ—¶é—´èŠ‚çœ**: 20 ç§’ â†’ 0 ç§’

---

## 4. VR è§„åˆ™è¯¦è§£

### 4.1 ä»€ä¹ˆæ˜¯ VR è§„åˆ™ï¼Ÿ

**VR = Validation Rule (éªŒè¯è§„åˆ™)**

**å®šä¹‰**: åœ¨ Parser é˜¶æ®µæ£€æŸ¥çš„è¯­ä¹‰è§„åˆ™

**Flowby å®ç°çš„ 4 ä¸ª VR è§„åˆ™**:

```
VR-001: å˜é‡ä½¿ç”¨å‰å¿…é¡»å£°æ˜
VR-002: å¸¸é‡ä¸èƒ½é‡æ–°èµ‹å€¼
VR-003: åŒä¸€ä½œç”¨åŸŸä¸èƒ½é‡å¤å£°æ˜
VR-004: ç³»ç»Ÿå˜é‡åªè¯»
```

### 4.2 VR-001: å˜é‡ä½¿ç”¨å‰å¿…é¡»å£°æ˜

**è§„åˆ™**: å˜é‡å¿…é¡»å…ˆå£°æ˜ï¼ˆlet/constï¼‰ï¼Œå†ä½¿ç”¨

**é”™è¯¯ç¤ºä¾‹**:
```flow
# âŒ é”™è¯¯ï¼šå˜é‡æœªå£°æ˜
log username
type password into "#password"

# âœ… æ­£ç¡®ï¼šå…ˆå£°æ˜å†ä½¿ç”¨
let username = "Alice"
let password = "pass123"
log username
type password into "#password"
```

**Parser å¦‚ä½•æ£€æŸ¥**:

```python
# parser.py ä¼ªä»£ç 
def parse_identifier(self, identifier):
    var_name = identifier.value

    # VR-001 æ£€æŸ¥ï¼šå˜é‡æ˜¯å¦å·²å£°æ˜ï¼Ÿ
    if not self.symbol_table.lookup(var_name):
        raise ParserError(
            message=f"æœªå®šä¹‰çš„å˜é‡ '{var_name}'ï¼ˆVR-001 è¿è§„ï¼‰"
        )
```

**å…³é”®ç‚¹**:
- Parser æœ‰ä¸€ä¸ª `symbol_table`ï¼ˆç¬¦å·è¡¨ï¼‰
- æ¯æ¬¡é‡åˆ° `let x = ...`ï¼Œå°±è®°å½• x
- æ¯æ¬¡é‡åˆ°å˜é‡å¼•ç”¨ï¼Œå°±æŸ¥è¡¨ï¼Œæ²¡æœ‰å°±æŠ¥é”™

### 4.3 VR-002: å¸¸é‡ä¸èƒ½é‡æ–°èµ‹å€¼

**è§„åˆ™**: `const` å£°æ˜çš„å¸¸é‡ä¸èƒ½ä¿®æ”¹

**é”™è¯¯ç¤ºä¾‹**:
```flow
# âŒ é”™è¯¯ï¼šä¿®æ”¹å¸¸é‡
const MAX_RETRIES = 3
MAX_RETRIES = 5  # â† Parser é˜¶æ®µå°±æŠ¥é”™

# âœ… æ­£ç¡®ï¼šä½¿ç”¨ let å£°æ˜å¯å˜å˜é‡
let retries = 3
retries = 5  # OK
```

**Parser å¦‚ä½•æ£€æŸ¥**:

```python
# parser.py ä¼ªä»£ç 
def parse_assignment(self, name):
    # VR-002 æ£€æŸ¥ï¼šæ˜¯å¸¸é‡å—ï¼Ÿ
    symbol = self.symbol_table.lookup(name)
    if symbol and symbol.type == "CONSTANT":
        raise ParserError(
            message=f"ä¸èƒ½ä¿®æ”¹å¸¸é‡ '{name}'ï¼ˆVR-002 è¿è§„ï¼‰",
            suggestion=f"å¸¸é‡åœ¨ç¬¬ {symbol.line} è¡Œå®šä¹‰ï¼Œè¯·ä½¿ç”¨ 'let' å£°æ˜å¯å˜å˜é‡"
        )
```

**å…³é”®ç‚¹**:
- ç¬¦å·è¡¨è®°å½•å˜é‡ç±»å‹ï¼ˆlet è¿˜æ˜¯ constï¼‰
- èµ‹å€¼æ—¶æ£€æŸ¥ç±»å‹
- ç¼–è¯‘æ—¶ä¿è¯å¸¸é‡ä¸å¯å˜

### 4.4 VR-003: åŒä¸€ä½œç”¨åŸŸä¸èƒ½é‡å¤å£°æ˜

**è§„åˆ™**: ä¸èƒ½åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸé‡å¤å®šä¹‰å˜é‡

**é”™è¯¯ç¤ºä¾‹**:
```flow
# âŒ é”™è¯¯ï¼šé‡å¤å£°æ˜
let count = 10
let count = 20  # â† Parser é˜¶æ®µå°±æŠ¥é”™

# âœ… æ­£ç¡®ï¼šä¸åŒä½œç”¨åŸŸå¯ä»¥
let count = 10
function test():
    let count = 20  # OKï¼Œä¸åŒä½œç”¨åŸŸ
```

**Parser å¦‚ä½•æ£€æŸ¥**:

```python
# parser.py ä¼ªä»£ç 
def parse_let_statement(self, name):
    # VR-003 æ£€æŸ¥ï¼šå½“å‰ä½œç”¨åŸŸå·²ç»å­˜åœ¨å—ï¼Ÿ
    current_scope = self.symbol_table.current_scope()
    if name in current_scope:
        existing = current_scope[name]
        raise ParserError(
            message=f"å˜é‡ '{name}' é‡å¤å£°æ˜ï¼ˆVR-003 è¿è§„ï¼‰",
            suggestion=f"å˜é‡å·²åœ¨ç¬¬ {existing.line} è¡Œå£°æ˜"
        )
```

**å…³é”®ç‚¹**:
- ç¬¦å·è¡¨åˆ†å±‚ï¼ˆå…¨å±€ä½œç”¨åŸŸã€å‡½æ•°ä½œç”¨åŸŸã€å¾ªç¯ä½œç”¨åŸŸï¼‰
- åªæ£€æŸ¥å½“å‰ä½œç”¨åŸŸ
- å…è®¸åµŒå¥—ä½œç”¨åŸŸé®è”½

### 4.5 VR-004: ç³»ç»Ÿå˜é‡åªè¯»

**è§„åˆ™**: ä¸èƒ½ä¿®æ”¹ç³»ç»Ÿå˜é‡ï¼ˆpage, env, responseï¼‰

**é”™è¯¯ç¤ºä¾‹**:
```flow
# âŒ é”™è¯¯ï¼šä¿®æ”¹ç³»ç»Ÿå˜é‡
page = None  # â† Parser é˜¶æ®µå°±æŠ¥é”™
env = {}     # â† Parser é˜¶æ®µå°±æŠ¥é”™

# âœ… æ­£ç¡®ï¼šåªè¯»ä½¿ç”¨
log page.url
log env.API_TOKEN
```

**Parser å¦‚ä½•æ£€æŸ¥**:

```python
# parser.py ä¼ªä»£ç 
SYSTEM_VARIABLES = ["page", "env", "response"]

def parse_assignment(self, name):
    # VR-004 æ£€æŸ¥ï¼šæ˜¯ç³»ç»Ÿå˜é‡å—ï¼Ÿï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰
    if name in SYSTEM_VARIABLES:
        raise ParserError(
            message=f"ä¸èƒ½ä¿®æ”¹ç³»ç»Ÿå˜é‡ '{name}'ï¼ˆVR-004 è¿è§„ï¼‰"
        )
```

**å…³é”®ç‚¹**:
- ç¡¬ç¼–ç çš„ç³»ç»Ÿå˜é‡åˆ—è¡¨
- ä¼˜å…ˆçº§æœ€é«˜ï¼ˆåœ¨ VR-002 ä¹‹å‰æ£€æŸ¥ï¼‰
- ç¼–è¯‘æ—¶ä¿æŠ¤ç³»ç»Ÿå˜é‡

---

## 5. æŠ€æœ¯å®ç°åŸç†

### 5.1 ç¬¦å·è¡¨ï¼ˆSymbol Tableï¼‰

**æ ¸å¿ƒæ•°æ®ç»“æ„**: Parser æ„å»ºçš„å˜é‡æŸ¥æ‰¾è¡¨

```python
# ç¬¦å·è¡¨ç¤ºä¾‹
SymbolTable = {
    "x": Symbol(name="x", type="VARIABLE", line=10, value=None),
    "MAX": Symbol(name="MAX", type="CONSTANT", line=5, value=100),
    "test": Symbol(name="test", type="FUNCTION", line=15, value=FunctionDef(...))
}
```

**ä½œç”¨åŸŸæ ˆ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å…¨å±€ä½œç”¨åŸŸ           â”‚
â”‚ x: VARIABLE          â”‚
â”‚ MAX: CONSTANT        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å‡½æ•°ä½œç”¨åŸŸ (test)    â”‚
â”‚ param1: PARAMETER    â”‚
â”‚ local_var: VARIABLE  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¾ªç¯ä½œç”¨åŸŸ (for)     â”‚
â”‚ item: LOOP_VARIABLE  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 Parser æ„å»ºç¬¦å·è¡¨çš„è¿‡ç¨‹

**ä»£ç ç¤ºä¾‹**:
```flow
let x = 10        # Parser: è®°å½• x
const MAX = 100   # Parser: è®°å½• MAX (CONSTANT)

function test():  # Parser: è®°å½• test (FUNCTION)
    let y = 20    # Parser: è®°å½• y (å‡½æ•°ä½œç”¨åŸŸ)
    log x         # Parser: æŸ¥æ‰¾ x âœ… æ‰¾åˆ°
    log z         # Parser: æŸ¥æ‰¾ z âŒ æœªæ‰¾åˆ°ï¼ŒæŠ¥é”™ï¼
```

**Parser å†…éƒ¨æ“ä½œ**:

```python
# 1. è§£æ let x = 10
def _parse_let_statement(self):
    name = self.current_token.value  # "x"

    # VR-003 æ£€æŸ¥ï¼šæ˜¯å¦é‡å¤å£°æ˜ï¼Ÿ
    if self.symbol_table.lookup_current_scope(name):
        raise ParserError("é‡å¤å£°æ˜")

    # è®°å½•åˆ°ç¬¦å·è¡¨
    self.symbol_table.define(
        name=name,
        type="VARIABLE",
        line=self.current_token.line
    )

# 2. è§£æ const MAX = 100
def _parse_const_statement(self):
    name = self.current_token.value  # "MAX"

    # VR-003 æ£€æŸ¥
    if self.symbol_table.lookup_current_scope(name):
        raise ParserError("é‡å¤å£°æ˜")

    # è®°å½•ä¸ºå¸¸é‡
    self.symbol_table.define(
        name=name,
        type="CONSTANT",  # â† æ ‡è®°ä¸ºå¸¸é‡
        line=self.current_token.line
    )

# 3. è§£æ log x
def _parse_identifier(self):
    name = self.current_token.value  # "x"

    # VR-001 æ£€æŸ¥ï¼šå˜é‡æ˜¯å¦å£°æ˜ï¼Ÿ
    symbol = self.symbol_table.lookup(name)
    if not symbol:
        # æ£€æŸ¥æ˜¯å¦æ˜¯ç³»ç»Ÿå˜é‡
        if name not in SYSTEM_VARIABLES:
            raise ParserError(
                f"æœªå®šä¹‰çš„å˜é‡ '{name}'ï¼ˆVR-001 è¿è§„ï¼‰"
            )

    return Identifier(name)

# 4. è§£æ MAX = 200
def _parse_assignment(self):
    name = self.current_token.value  # "MAX"

    # VR-004 æ£€æŸ¥ï¼šæ˜¯ç³»ç»Ÿå˜é‡å—ï¼Ÿ
    if name in SYSTEM_VARIABLES:
        raise ParserError(f"ä¸èƒ½ä¿®æ”¹ç³»ç»Ÿå˜é‡ '{name}'ï¼ˆVR-004 è¿è§„ï¼‰")

    # VR-002 æ£€æŸ¥ï¼šæ˜¯å¸¸é‡å—ï¼Ÿ
    symbol = self.symbol_table.lookup(name)
    if symbol and symbol.type == "CONSTANT":
        raise ParserError(
            f"ä¸èƒ½ä¿®æ”¹å¸¸é‡ '{name}'ï¼ˆVR-002 è¿è§„ï¼‰"
        )

    # è§£æèµ‹å€¼
    # ...
```

### 5.3 ç¬¦å·è¡¨ä¸ Interpreter å…±äº«

**å…³é”®è®¾è®¡**: Parser æ„å»ºçš„ç¬¦å·è¡¨ï¼ŒInterpreter ç›´æ¥ä½¿ç”¨

```python
# DSLRunner (ä¸»æµç¨‹)
def run_script(source_code):
    # 1. Lexer
    tokens = Lexer().tokenize(source_code)

    # 2. Parserï¼ˆæ„å»ºç¬¦å·è¡¨ï¼‰
    parser = Parser()
    ast = parser.parse(tokens)
    symbol_table = parser.symbol_table  # â† è·å–ç¬¦å·è¡¨

    # 3. Interpreterï¼ˆå…±äº«ç¬¦å·è¡¨ï¼‰
    interpreter = Interpreter()
    interpreter.symbol_table = symbol_table  # â† å…±ç”¨åŒä¸€ä¸ªç¬¦å·è¡¨
    interpreter.run(ast)
```

**å¥½å¤„**:
- âœ… é¿å…é‡å¤æ„å»º
- âœ… Parser æ£€æŸ¥è¿‡çš„ï¼ŒInterpreter ä¸éœ€è¦å†æ£€æŸ¥
- âœ… ä¸€è‡´æ€§ä¿è¯

---

## 6. å®é™…ä»·å€¼åˆ†æ

### 6.1 å¼€å‘æ•ˆç‡æå‡

**åœºæ™¯**: å¼€å‘ä¸€ä¸ª 200 è¡Œçš„è‡ªåŠ¨åŒ–è„šæœ¬

**ä¼ ç»Ÿ Python æ–¹å¼**:
```
å†™ä»£ç  (10 åˆ†é’Ÿ)
  â†“
è¿è¡Œæµ‹è¯•
  â†“
ç¬¬ 150 è¡ŒæŠ¥é”™ï¼šå˜é‡æœªå®šä¹‰ (è¿è¡Œ 30 ç§’å)
  â†“
ä¿®æ”¹ä»£ç  (1 åˆ†é’Ÿ)
  â†“
é‡æ–°è¿è¡Œ
  â†“
ç¬¬ 180 è¡ŒæŠ¥é”™ï¼šå¸¸é‡é‡èµ‹å€¼ (è¿è¡Œ 40 ç§’å)
  â†“
ä¿®æ”¹ä»£ç  (1 åˆ†é’Ÿ)
  â†“
é‡æ–°è¿è¡Œ
  â†“
æˆåŠŸï¼

æ€»è€—æ—¶: 10 + 0.5 + 1 + 0.7 + 1 = 13.2 åˆ†é’Ÿ
```

**Flowby VR æ£€æŸ¥æ–¹å¼**:
```
å†™ä»£ç  (10 åˆ†é’Ÿ)
  â†“
Parser æ£€æŸ¥ (0.1 ç§’)
  â†“
æŠ¥é”™åˆ—è¡¨ï¼š
  - ç¬¬ 150 è¡Œï¼šå˜é‡æœªå®šä¹‰ (VR-001)
  - ç¬¬ 180 è¡Œï¼šå¸¸é‡é‡èµ‹å€¼ (VR-002)
  â†“
ä¿®æ”¹æ‰€æœ‰é”™è¯¯ (2 åˆ†é’Ÿ)
  â†“
Parser æ£€æŸ¥ (0.1 ç§’)
  â†“
æˆåŠŸï¼è¿è¡Œæµ‹è¯•
  â†“
æµ‹è¯•é€šè¿‡

æ€»è€—æ—¶: 10 + 2 = 12 åˆ†é’Ÿ
```

**æ—¶é—´èŠ‚çœ**: 13.2 â†’ 12 åˆ†é’Ÿï¼ˆèŠ‚çœ 10%ï¼‰

**æ›´é‡è¦çš„**:
- âœ… å³æ—¶åé¦ˆï¼ˆ0.1 ç§’ vs 30 ç§’ï¼‰
- âœ… ä¸€æ¬¡æ€§çœ‹åˆ°æ‰€æœ‰é”™è¯¯
- âœ… ä¸éœ€è¦ç­‰å¾…è„šæœ¬è¿è¡Œ

### 6.2 ä»£ç è´¨é‡æå‡

**å¼ºåˆ¶æœ€ä½³å®è·µ**:

```flow
# VR è§„åˆ™å¼ºåˆ¶ä½ å†™è§„èŒƒçš„ä»£ç 

# âŒ ä¸è§„èŒƒï¼šå˜é‡æœªå£°æ˜å°±ç”¨
log user
let user = "Alice"

# âœ… è§„èŒƒï¼šå…ˆå£°æ˜å†ä½¿ç”¨
let user = "Alice"
log user

# âŒ ä¸è§„èŒƒï¼šé‡å¤å£°æ˜
let count = 10
let count = 20

# âœ… è§„èŒƒï¼šèµ‹å€¼è€Œéé‡æ–°å£°æ˜
let count = 10
count = 20

# âŒ ä¸è§„èŒƒï¼šä¿®æ”¹å¸¸é‡
const MAX = 100
MAX = 200

# âœ… è§„èŒƒï¼šå¸¸é‡ä¸å¯å˜ï¼Œéœ€è¦å¯å˜ç”¨ let
const MAX = 100
let current = MAX
current = 200
```

**ä»£ç è´¨é‡æŒ‡æ ‡**:
- âœ… æ— æœªå£°æ˜å˜é‡
- âœ… å¸¸é‡ä½¿ç”¨ä¸€è‡´ï¼ˆä¸ä¼šæ„å¤–ä¿®æ”¹ï¼‰
- âœ… ä½œç”¨åŸŸæ¸…æ™°ï¼ˆæ— é‡å¤å£°æ˜ï¼‰
- âœ… ç³»ç»Ÿå˜é‡ä¿æŠ¤ï¼ˆä¸ä¼šæ„å¤–è¦†ç›–ï¼‰

### 6.3 é”™è¯¯å‘ç°æ—¶é—´å¯¹æ¯”

**çœŸå®åœºæ™¯**: ä¸€ä¸ªè‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬

```flow
# è„šæœ¬ï¼šæµ‹è¯•ç”¨æˆ·ç™»å½•æµç¨‹
step "å‡†å¤‡æµ‹è¯•æ•°æ®":
    let test_users = load_csv("users.csv")  # è€—æ—¶ 2 ç§’

step "åˆå§‹åŒ–æµè§ˆå™¨":
    navigate to "https://example.com/login"  # è€—æ—¶ 5 ç§’

step "æ‰¹é‡ç™»å½•æµ‹è¯•":
    for user in test_users:
        type user.email into "#email"
        type user.password into "#password"
        click "#submit"

        # âŒ ç¬¬ 15 è¡Œï¼šå˜é‡åæ‹¼å†™é”™è¯¯
        assert url contains "dashbord"  # â† åº”è¯¥æ˜¯ dashboard

        go back
```

**ä¼ ç»Ÿæ–¹å¼ï¼ˆè¿è¡Œæ—¶å‘ç°ï¼‰**:
```
è€—æ—¶ï¼š
å‡†å¤‡æ•°æ® (2 ç§’)
  â†“
åˆå§‹åŒ–æµè§ˆå™¨ (5 ç§’)
  â†“
ç¬¬ 1 ä¸ªç”¨æˆ·ç™»å½• (10 ç§’)
  â†“
âŒ ç¬¬ 15 è¡ŒæŠ¥é”™ï¼šå˜é‡ 'dashbord' æœªå®šä¹‰

æ€»è€—æ—¶: 17 ç§’æ‰å‘ç°æ‹¼å†™é”™è¯¯
```

**Flowby VR æ£€æŸ¥**:
```
Parser æ£€æŸ¥ (0.1 ç§’)
  â†“
âŒ ç¬¬ 15 è¡ŒæŠ¥é”™ï¼šæœªå®šä¹‰çš„å˜é‡ 'dashbord'ï¼ˆVR-001ï¼‰
  ğŸ’¡ æç¤º: æ‚¨æ˜¯å¦æƒ³è¦ä½¿ç”¨ 'dashboard'?

æ€»è€—æ—¶: 0.1 ç§’å‘ç°é”™è¯¯
```

**æ—¶é—´èŠ‚çœ**: 17 ç§’ â†’ 0.1 ç§’ï¼ˆèŠ‚çœ 170 å€ï¼‰

---

## 7. ä¸å…¶ä»–è¯­è¨€å¯¹æ¯”

### 7.1 Python (åŠ¨æ€ç±»å‹ï¼Œè¿è¡Œæ—¶æ£€æŸ¥)

**Python ä»£ç **:
```python
# ä»£ç å¯ä»¥æ­£å¸¸è§£æ
print(username)  # â† è¯­æ³•æ­£ç¡®
username = "Alice"

# è¿è¡Œæ—¶æ‰æŠ¥é”™
# NameError: name 'username' is not defined
```

**æ£€æŸ¥æ—¶æœº**: è¿è¡Œæ—¶

**ä¼˜ç‚¹**: çµæ´»
**ç¼ºç‚¹**: é”™è¯¯å‘ç°æ™š

### 7.2 TypeScript (é™æ€ç±»å‹ï¼Œç¼–è¯‘æ—¶æ£€æŸ¥)

**TypeScript ä»£ç **:
```typescript
// ç¼–è¯‘æ—¶æ£€æŸ¥
console.log(username);  // âŒ ç¼–è¯‘é”™è¯¯
const username = "Alice";

// Error: Cannot use 'username' before initialization
```

**æ£€æŸ¥æ—¶æœº**: ç¼–è¯‘æ—¶ï¼ˆç±»å‹æ£€æŸ¥å™¨ï¼‰

**ä¼˜ç‚¹**: æ—©æœŸå‘ç°é”™è¯¯
**ç¼ºç‚¹**: éœ€è¦ç±»å‹æ³¨è§£

### 7.3 JavaScript (åŠ¨æ€ç±»å‹ï¼Œè¿è¡Œæ—¶æ£€æŸ¥)

**JavaScript ä»£ç **:
```javascript
console.log(username);  // undefinedï¼ˆä¸æŠ¥é”™ï¼ï¼‰
var username = "Alice";

// æˆ–è€…ä½¿ç”¨ let/const
console.log(username);  // âŒ ReferenceError (è¿è¡Œæ—¶)
let username = "Alice";
```

**æ£€æŸ¥æ—¶æœº**: è¿è¡Œæ—¶ï¼ˆæˆ– undefinedï¼‰

**ä¼˜ç‚¹**: çµæ´»
**ç¼ºç‚¹**: var æå‡å¯¼è‡´éšè—é”™è¯¯

### 7.4 Rust (é™æ€ç±»å‹ï¼Œç¼–è¯‘æ—¶æ£€æŸ¥)

**Rust ä»£ç **:
```rust
// ç¼–è¯‘æ—¶æ£€æŸ¥
println!("{}", username);  // âŒ ç¼–è¯‘é”™è¯¯
let username = "Alice";

// Error: cannot find value `username` in this scope
```

**æ£€æŸ¥æ—¶æœº**: ç¼–è¯‘æ—¶ï¼ˆä¸¥æ ¼çš„å€Ÿç”¨æ£€æŸ¥å™¨ï¼‰

**ä¼˜ç‚¹**: æœ€å®‰å…¨
**ç¼ºç‚¹**: å­¦ä¹ æ›²çº¿é™¡å³­

### 7.5 Flowby (åŠ¨æ€ç±»å‹ï¼ŒParser é˜¶æ®µè¯­ä¹‰æ£€æŸ¥)

**Flowby ä»£ç **:
```flow
log username  # âŒ Parser é˜¶æ®µæŠ¥é”™ï¼ˆVR-001ï¼‰
let username = "Alice"

# Error: æœªå®šä¹‰çš„å˜é‡ 'username'ï¼ˆVR-001 è¿è§„ï¼‰
```

**æ£€æŸ¥æ—¶æœº**: Parser é˜¶æ®µï¼ˆä»‹äºç¼–è¯‘æ—¶å’Œè¿è¡Œæ—¶ä¹‹é—´ï¼‰

**ä¼˜ç‚¹**:
- âœ… æ—©æœŸå‘ç°é”™è¯¯ï¼ˆç±»ä¼¼ TypeScript/Rustï¼‰
- âœ… æ— éœ€ç±»å‹æ³¨è§£ï¼ˆä¿æŒåŠ¨æ€ç±»å‹çš„çµæ´»æ€§ï¼‰

**å®šä½**: **åŠ¨æ€ç±»å‹è¯­è¨€ + ç¼–è¯‘æ—¶è¯­ä¹‰æ£€æŸ¥**

### 7.6 å¯¹æ¯”æ€»ç»“è¡¨

| è¯­è¨€ | ç±»å‹ç³»ç»Ÿ | æ£€æŸ¥æ—¶æœº | éœ€è¦ç±»å‹æ³¨è§£ | é”™è¯¯å‘ç°é€Ÿåº¦ |
|------|---------|---------|-------------|-------------|
| **Python** | åŠ¨æ€ | è¿è¡Œæ—¶ | âŒ | â­â­ (æ…¢) |
| **JavaScript** | åŠ¨æ€ | è¿è¡Œæ—¶ | âŒ | â­â­ (æ…¢) |
| **TypeScript** | é™æ€ | ç¼–è¯‘æ—¶ | âœ… | â­â­â­â­â­ (å¿«) |
| **Rust** | é™æ€ | ç¼–è¯‘æ—¶ | âœ… | â­â­â­â­â­ (å¿«) |
| **Flowby** | åŠ¨æ€ | **Parser é˜¶æ®µ** | âŒ | â­â­â­â­ (å¿«) |

**Flowby çš„åˆ›æ–°**:
```
Flowby = Python çš„çµæ´»æ€§ï¼ˆåŠ¨æ€ç±»å‹ï¼‰
       + TypeScript çš„å®‰å…¨æ€§ï¼ˆç¼–è¯‘æ—¶æ£€æŸ¥ï¼‰
```

---

## 8. æ€»ç»“

### 8.1 æ ¸å¿ƒæ¦‚å¿µæ€»ç»“

**Parser é˜¶æ®µè¯­ä¹‰æ£€æŸ¥ = åœ¨ç¼–è¯‘æ—¶æ£€æŸ¥ä»£ç çš„é€»è¾‘æ­£ç¡®æ€§**

**ä¸‰ä¸ªå…³é”®ç‚¹**:
1. **é˜¶æ®µ**: Parser é˜¶æ®µï¼ˆä¸æ˜¯è¿è¡Œæ—¶ï¼‰
2. **æ£€æŸ¥å†…å®¹**: è¯­ä¹‰ï¼ˆä¸æ˜¯è¯­æ³•ï¼‰
3. **å®ç°æœºåˆ¶**: ç¬¦å·è¡¨ + VR è§„åˆ™

### 8.2 VR è§„åˆ™æ€»ç»“

```
VR-001: å˜é‡ä½¿ç”¨å‰å¿…é¡»å£°æ˜
        â†’ é˜²æ­¢æ‹¼å†™é”™è¯¯ã€é—æ¼å£°æ˜

VR-002: å¸¸é‡ä¸èƒ½é‡æ–°èµ‹å€¼
        â†’ ä¿è¯å¸¸é‡ä¸å¯å˜æ€§

VR-003: åŒä¸€ä½œç”¨åŸŸä¸èƒ½é‡å¤å£°æ˜
        â†’ é˜²æ­¢å˜é‡è¦†ç›–é”™è¯¯

VR-004: ç³»ç»Ÿå˜é‡åªè¯»
        â†’ ä¿æŠ¤ç³»ç»Ÿå˜é‡ä¸è¢«ä¿®æ”¹
```

### 8.3 æŠ€æœ¯ä»·å€¼

**å¯¹æ¯”ä¼ ç»ŸåŠ¨æ€è¯­è¨€**:
- âœ… é”™è¯¯å‘ç°æ—¶é—´æå‰ 100%ï¼ˆè¿è¡Œæ—¶ â†’ Parser é˜¶æ®µï¼‰
- âœ… å¼€å‘æ•ˆç‡æå‡ 10-40%
- âœ… ä»£ç è´¨é‡æå‡ï¼ˆå¼ºåˆ¶æœ€ä½³å®è·µï¼‰
- âœ… æ— éœ€ç±»å‹æ³¨è§£ï¼ˆä¿æŒçµæ´»æ€§ï¼‰

**å¯¹æ¯”é™æ€ç±»å‹è¯­è¨€**:
- âœ… å­¦ä¹ æˆæœ¬æ›´ä½ï¼ˆæ— éœ€å­¦ä¹ ç±»å‹ç³»ç»Ÿï¼‰
- âœ… ä»£ç æ›´ç®€æ´ï¼ˆæ— ç±»å‹æ³¨è§£å™ªéŸ³ï¼‰
- âš ï¸ ç±»å‹å®‰å…¨æ€§ç¨å¼±ï¼ˆä»…æ£€æŸ¥è¯­ä¹‰ï¼Œä¸æ£€æŸ¥ç±»å‹ï¼‰

### 8.4 åˆ›æ–°ç‚¹

**Flowby çš„æ ¸å¿ƒåˆ›æ–°**:
```
ä¼ ç»ŸåŠ¨æ€è¯­è¨€:
  Parser (è¯­æ³•æ£€æŸ¥) â†’ Interpreter (è¯­ä¹‰æ£€æŸ¥)

Flowby:
  Parser (è¯­æ³• + è¯­ä¹‰æ£€æŸ¥) â†’ Interpreter (ç±»å‹æ£€æŸ¥)
         â†‘ åˆ›æ–°ç‚¹ï¼šæŠŠè¯­ä¹‰æ£€æŸ¥æå‰åˆ° Parser
```

**æŠ€æœ¯æœ¯è¯­**:
- **é™æ€åˆ†æ**: ä¸è¿è¡Œä»£ç å°±èƒ½å‘ç°é”™è¯¯
- **ç¬¦å·è¡¨é©±åŠ¨**: åŸºäºç¬¦å·è¡¨çš„è¯­ä¹‰æ£€æŸ¥
- **æ—©æœŸé”™è¯¯å‘ç°**: ç¼–è¯‘æ—¶è€Œéè¿è¡Œæ—¶

### 8.5 æœ€ç»ˆç±»æ¯”

**ç”¨é€šä¿—çš„æ¯”å–»ç†è§£**:

**ä¼ ç»Ÿåšæ³•** (Python/JavaScript):
```
ä½ å†™äº†ä¸€å°ä¿¡ (ä»£ç )
  â†“
ç§˜ä¹¦æ£€æŸ¥æ ¼å¼ (Parser: è¯­æ³•æ£€æŸ¥)
  âœ… æ ¼å¼æ­£ç¡®
  â†“
å¯„ç»™æ”¶ä»¶äºº (Interpreter: æ‰§è¡Œ)
  âŒ æ”¶ä»¶äººè¯´ï¼šä½ ä¿¡é‡Œæåˆ°çš„"å¼ ä¸‰"æ˜¯è°ï¼Ÿæˆ‘ä¸è®¤è¯†ï¼
  â†‘ è¿è¡Œæ—¶æ‰å‘ç°é”™è¯¯
```

**Flowby åšæ³•**:
```
ä½ å†™äº†ä¸€å°ä¿¡ (ä»£ç )
  â†“
ç§˜ä¹¦æ£€æŸ¥æ ¼å¼å’Œå†…å®¹ (Parser: è¯­æ³• + è¯­ä¹‰æ£€æŸ¥)
  âœ… æ ¼å¼æ­£ç¡®
  âŒ å†…å®¹é”™è¯¯ï¼šä½ æåˆ°"å¼ ä¸‰"ï¼Œä½†ä¹‹å‰æ²¡æœ‰ä»‹ç»ä»–æ˜¯è°
  â†‘ å¯„å‡ºå‰å°±å‘ç°é”™è¯¯
  â†“
ä¿®æ”¹ä¿¡ä»¶ï¼Œè¡¥å……"å¼ ä¸‰çš„ä»‹ç»"
  â†“
å†æ¬¡æ£€æŸ¥
  âœ… æ ¼å¼å’Œå†…å®¹éƒ½æ­£ç¡®
  â†“
å¯„ç»™æ”¶ä»¶äºº (Interpreter: æ‰§è¡Œ)
  âœ… æˆåŠŸï¼
```

**å…³é”®å·®å¼‚**: Flowby åœ¨"å¯„å‡ºå‰"å°±æ£€æŸ¥å†…å®¹é€»è¾‘ï¼Œè€Œä¸æ˜¯ç­‰æ”¶ä»¶äººçœ‹åˆ°æ‰å‘ç°é—®é¢˜ã€‚

---

## 9. å®é™…ä»£ç ç¤ºä¾‹

### 9.1 å®Œæ•´ç¤ºä¾‹ï¼šVR è§„åˆ™ä¿æŠ¤çš„ä»£ç 

```flow
# è¿™æ®µä»£ç ç»è¿‡ 4 ä¸ª VR è§„åˆ™çš„ä¿æŠ¤

# VR-001: å¿…é¡»å…ˆå£°æ˜å†ä½¿ç”¨
let username = "Alice"      # âœ… å£°æ˜
log username                # âœ… å¯ä»¥ä½¿ç”¨

# VR-002: å¸¸é‡ä¸èƒ½ä¿®æ”¹
const MAX_RETRIES = 3       # âœ… å£°æ˜å¸¸é‡
# MAX_RETRIES = 5           # âŒ Parser é˜¶æ®µæŠ¥é”™ (VR-002)

# VR-003: ä¸èƒ½é‡å¤å£°æ˜
let count = 10              # âœ… ç¬¬ä¸€æ¬¡å£°æ˜
# let count = 20            # âŒ Parser é˜¶æ®µæŠ¥é”™ (VR-003)
count = 20                  # âœ… èµ‹å€¼ï¼ˆä¸æ˜¯å£°æ˜ï¼‰

# VR-004: ç³»ç»Ÿå˜é‡åªè¯»
log page.url                # âœ… è¯»å–ç³»ç»Ÿå˜é‡
# page = None               # âŒ Parser é˜¶æ®µæŠ¥é”™ (VR-004)

# æ‰€æœ‰é”™è¯¯åœ¨ Parser é˜¶æ®µï¼ˆ0.1 ç§’å†…ï¼‰å…¨éƒ¨å‘ç°ï¼
```

### 9.2 é”™è¯¯ä¿®å¤æµç¨‹

**ç¬¬ä¸€æ¬¡å°è¯•** (æœ‰é”™è¯¯):
```flow
log username
const MAX = 100
MAX = 200
let count = 10
let count = 20
page = None
```

**Parser æ£€æŸ¥ç»“æœ** (0.1 ç§’):
```
[è¯­æ³•é”™è¯¯] ç¬¬ 1 è¡Œ: æœªå®šä¹‰çš„å˜é‡ 'username'ï¼ˆVR-001 è¿è§„ï¼‰
[è¯­æ³•é”™è¯¯] ç¬¬ 3 è¡Œ: ä¸èƒ½ä¿®æ”¹å¸¸é‡ 'MAX'ï¼ˆVR-002 è¿è§„ï¼‰
[è¯­æ³•é”™è¯¯] ç¬¬ 5 è¡Œ: å˜é‡ 'count' é‡å¤å£°æ˜ï¼ˆVR-003 è¿è§„ï¼‰
[è¯­æ³•é”™è¯¯] ç¬¬ 6 è¡Œ: ä¸èƒ½ä¿®æ”¹ç³»ç»Ÿå˜é‡ 'page'ï¼ˆVR-004 è¿è§„ï¼‰
```

**ä¿®å¤å**:
```flow
let username = "Alice"  # ä¿®å¤ VR-001
log username

const MAX = 100         # VR-002: ä¿æŒä¸å˜
let current = MAX
current = 200           # ä¿®æ”¹ current è€Œé MAX

let count = 10          # ä¿®å¤ VR-003
count = 20              # èµ‹å€¼è€Œéé‡æ–°å£°æ˜

log page.url            # ä¿®å¤ VR-004: åªè¯»å–ä¸ä¿®æ”¹
```

**Parser æ£€æŸ¥ç»“æœ** (0.1 ç§’):
```
âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼
```

---

**æŠ¥å‘Šä½œè€…**: AI Assistant
**ç›®æ ‡è¯»è€…**: éœ€è¦ç†è§£ Parser é˜¶æ®µè¯­ä¹‰æ£€æŸ¥çš„å¼€å‘è€…
**å¤æ‚åº¦**: ä»åŸºç¡€åˆ°é«˜çº§ï¼Œå¾ªåºæ¸è¿›
**é¢„è®¡é˜…è¯»æ—¶é—´**: 15-20 åˆ†é’Ÿ
